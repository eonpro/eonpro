# EONPRO Production Environment Configuration
# Copy this file to .env.production.local and fill in your production values
# CRITICAL: Never commit .env.production.local to version control

# ============================================================================
# CRITICAL SECURITY VARIABLES (REQUIRED FOR HIPAA COMPLIANCE)
# ============================================================================

# Encryption key for PHI (32 bytes hex) - Generate with: openssl rand -hex 32
ENCRYPTION_KEY=CHANGE_THIS_USE_OPENSSL_RAND_HEX_32

# JWT Secrets (min 32 chars) - Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_USE_OPENSSL_RAND_BASE64_32
JWT_REFRESH_SECRET=CHANGE_THIS_USE_OPENSSL_RAND_BASE64_32
NEXTAUTH_SECRET=CHANGE_THIS_USE_OPENSSL_RAND_BASE64_32

# Session Configuration (milliseconds)
SESSION_TIMEOUT=900000              # 15 minutes
SESSION_IDLE_TIMEOUT=900000        # 15 minutes  
ABSOLUTE_SESSION_TIMEOUT=28800000  # 8 hours
TOKEN_VERSION=1

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL for Production)
# ============================================================================

# PostgreSQL connection string
DATABASE_URL="postgresql://username:password@host:5432/eonpro_production?schema=public&sslmode=require"

# Database Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_ACQUIRE=60000
DATABASE_POOL_IDLE=10000

# ============================================================================
# REDIS CONFIGURATION (Session Management)
# ============================================================================

REDIS_URL="redis://username:password@host:6379"
REDIS_PREFIX="eonpro:"
REDIS_SESSION_TTL=900  # seconds

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Production URLs
NEXTAUTH_URL=https://yourdomain.com
NEXT_PUBLIC_APP_URL=https://yourdomain.com
NEXT_PUBLIC_API_URL=https://yourdomain.com/api

# Environment
NODE_ENV=production
NEXT_PUBLIC_ENV=production

# Clinic Configuration
DEFAULT_CLINIC_ID=1
BYPASS_CLINIC_FILTER=false
ENABLE_MULTI_CLINIC=true

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Stripe (Payment Processing)
STRIPE_SECRET_KEY=sk_live_YOUR_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_STRIPE_PUBLIC_KEY

# SendGrid (Email Service)
SENDGRID_API_KEY=SG.YOUR_SENDGRID_API_KEY
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME="EONPRO Health"

# Twilio (SMS Service)
TWILIO_ACCOUNT_SID=AC_YOUR_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_MESSAGING_SERVICE_SID=MG_YOUR_SERVICE_SID

# OpenAI (AI Services)
OPENAI_API_KEY=sk-YOUR_OPENAI_API_KEY
OPENAI_ORGANIZATION=org-YOUR_ORG_ID

# Google Maps (Address Autocomplete)
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=YOUR_GOOGLE_MAPS_KEY

# ============================================================================
# VIDEO CONSULTATION (Zoom/Twilio Video)
# ============================================================================

# Zoom Configuration
ZOOM_CLIENT_ID=YOUR_ZOOM_CLIENT_ID
ZOOM_CLIENT_SECRET=YOUR_ZOOM_CLIENT_SECRET
ZOOM_WEBHOOK_SECRET=YOUR_WEBHOOK_SECRET

# OR Twilio Video
TWILIO_VIDEO_API_KEY=YOUR_VIDEO_API_KEY
TWILIO_VIDEO_API_SECRET=YOUR_VIDEO_API_SECRET

# ============================================================================
# MONITORING & ANALYTICS
# ============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/PROJECT_ID
SENTRY_ORG=your-org
SENTRY_PROJECT=eonpro-production
SENTRY_AUTH_TOKEN=YOUR_SENTRY_AUTH_TOKEN
NEXT_PUBLIC_SENTRY_DSN=https://YOUR_PUBLIC_DSN@sentry.io/PROJECT_ID

# Analytics (Google Analytics / Mixpanel)
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-YOUR_GA_ID
MIXPANEL_TOKEN=YOUR_MIXPANEL_TOKEN

# Uptime Monitoring
UPTIME_ROBOT_API_KEY=YOUR_API_KEY
PINGDOM_API_KEY=YOUR_API_KEY

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_CSP=true
FRAME_ANCESTORS="'none'"

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# Authentication
MAX_LOGIN_ATTEMPTS=3
LOCKOUT_DURATION_MINUTES=30
PASSWORD_MIN_LENGTH=12
REQUIRE_2FA_FOR_ADMINS=true
REQUIRE_2FA_FOR_PROVIDERS=true

# ============================================================================
# AUDIT & COMPLIANCE
# ============================================================================

# Audit Configuration
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for HIPAA
AUDIT_LOG_LEVEL=info
ENABLE_PHI_ACCESS_LOGGING=true
ENABLE_AUDIT_TRAIL=true

# Compliance
HIPAA_MODE=true
ENABLE_CONSENT_MANAGEMENT=true
ENABLE_DATA_RETENTION_POLICY=true

# ============================================================================
# STORAGE & CDN
# ============================================================================

# AWS S3 (File Storage)
AWS_ACCESS_KEY_ID=YOUR_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_SECRET_KEY
AWS_REGION=us-east-1
AWS_S3_BUCKET=eonpro-production-files
AWS_S3_BUCKET_REGION=us-east-1

# CloudFront CDN
CLOUDFRONT_DISTRIBUTION_ID=YOUR_DISTRIBUTION_ID
CLOUDFRONT_DOMAIN=cdn.yourdomain.com

# OR Cloudflare
CLOUDFLARE_ZONE_ID=YOUR_ZONE_ID
CLOUDFLARE_API_TOKEN=YOUR_API_TOKEN

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================

# Database Backups
ENABLE_AUTO_BACKUP=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=eonpro-backups
BACKUP_ENCRYPTION_KEY=YOUR_BACKUP_ENCRYPTION_KEY

# ============================================================================
# FEATURE FLAGS
# ============================================================================

ENABLE_VIDEO_CONSULTATIONS=true
ENABLE_PRESCRIPTIONS=true
ENABLE_LAB_RESULTS=true
ENABLE_BILLING=true
ENABLE_PATIENT_PORTAL=true
ENABLE_PROVIDER_PORTAL=true
ENABLE_ADMIN_PORTAL=true
ENABLE_AI_FEATURES=true
ENABLE_TELEMEDICINE=true

# ============================================================================
# DEVELOPMENT TOOLS (Set to false in production)
# ============================================================================

ENABLE_DEBUG_MODE=false
SHOW_SQL_LOGS=false
ENABLE_API_DOCS=false
ENABLE_GRAPHQL_PLAYGROUND=false