apiVersion: v1
kind: Namespace
metadata:
  name: eonpro
  labels:
    name: eonpro
    environment: production

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: eonpro-app
  namespace: eonpro

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: eonpro-config
  namespace: eonpro
data:
  NODE_ENV: "production"
  NEXT_TELEMETRY_DISABLED: "1"
  NEXTAUTH_URL: "https://app.eonpro.health"
  NEXT_PUBLIC_APP_URL: "https://app.eonpro.health"
  AUDIT_LOG_RETENTION_DAYS: "2190"
  ENABLE_SECURITY_HEADERS: "true"
  ENABLE_RATE_LIMITING: "true"
  MAX_LOGIN_ATTEMPTS: "3"
  LOCKOUT_DURATION_MINUTES: "30"

---
# NOTE: In production, use External Secrets Operator or Sealed Secrets
# This is a template - DO NOT commit actual secrets
apiVersion: v1
kind: Secret
metadata:
  name: eonpro-secrets
  namespace: eonpro
type: Opaque
stringData:
  # Generate with: openssl rand -base64 32
  JWT_SECRET: "REPLACE_WITH_SECURE_VALUE"
  JWT_REFRESH_SECRET: "REPLACE_WITH_SECURE_VALUE"
  NEXTAUTH_SECRET: "REPLACE_WITH_SECURE_VALUE"
  
  # Generate with: openssl rand -hex 32
  ENCRYPTION_KEY: "REPLACE_WITH_64_HEX_CHARS"
  
  # Database
  DATABASE_URL: "postgresql://user:password@host:5432/dbname?sslmode=require"
  
  # Redis
  REDIS_URL: "redis://:password@host:6379"
  
  # External Services (add your own)
  # STRIPE_SECRET_KEY: ""
  # TWILIO_AUTH_TOKEN: ""
  # OPENAI_API_KEY: ""
  # AWS_ACCESS_KEY_ID: ""
  # AWS_SECRET_ACCESS_KEY: ""
  # SENTRY_DSN: ""
